<app-page-title [template]="'item-list'"></app-page-title>
<app-message [message]="message"></app-message>
<app-loading [loading]="loading" [containerHeight]="15" [imageHeight]="5"></app-loading>

<div *ngIf="!loading && !pagination.totalEntries" class="not-found-content">
	You didn't submit any item to this trade yet.
</div>

<div *ngIf="!loading && pagination.totalEntries">
	<div>
		<table class="table mt-table-hoverable is-striped is-fullwidth">
			<tr *ngFor="let i of items">
				<td
					class="item-row"
					(keyup.enter)="navigateToItem(i)"
					(click)="navigateToItem(i)"
					tabindex="2">
					<div>
						<div>
							{{i.name}}
						</div>
						<div class="item-description">
							{{cropText(i.description, 150)}}
						</div>
					</div>
					<div
						class="is-pulled-right"
						(keyup.enter)="deleteItem(i)"
						(click)="deleteItem(i)"
						tabindex="2">
						<i class="fas fa-trash mt-table-icon"></i>
					</div>
				</td>
			</tr>
		</table>
		<app-pagination
			[loading]="loading"
			[pagination]="pagination"
			(onNextPage)="nextPage()"
			(onPreviousPage)="previousPage()">
		</app-pagination>
	</div>
</div>

<div *ngIf="!loading" class="mt-cmd-panel-container">
	<button 
		class="mt-cmd-panel-first button is-primary"
		type="button"
		(click)="navigateBack()"
		tabindex="3">
		<i class="fa fa-backward" aria-hidden="true"></i>Back
	</button>
	<button
		class="mt-cmd-panel-last button is-primary"
		(click)="createItem()"
		(keyup.enter)="createItem()"
		tabindex="3">
		<i class="fa fa-plus" aria-hidden="true"></i>Create
	</button>	
</div>

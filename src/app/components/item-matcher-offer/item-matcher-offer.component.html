<app-page-title [template]="'item-matcher-offer'"></app-page-title>
<app-loading [loading]="loading" [containerHeight]="15" [imageHeight]="5"></app-loading>
<app-message [message]="message"></app-message>

<div *ngIf="!loading && offerableItems.length<1" class="not-found-container">
  <div class="not-found-content">
    <p>You did not submit any items.</p>
    <p>As a result, you cannot make offers in this trade <i class="fa fa-frown-o" aria-hidden="true"></i></p>
  </div>
</div>

<div *ngIf="!loading && offerableItems.length>0">
  <p class="wanted-item-paragraph">
    You want: <i>{{wantedItem.name}}</i>
  </p>

  <div>
    <table id="offering_items_table" class="table is-bordered is-striped is-hoverable is-fullwidth">
      <tbody>
        <tr *ngFor="let offerableItem of obtainOfferableItemsForCurrentPage()">
          <td class="mt-table-row-clickable item-offer-checkbox-column" (click)="toogleOfferableItem(offerableItem)">
            <input
              class="item-offer-checkbox"
              type="checkbox"
              [checked]="offerableItem.checked()">
          </td>
          <td class="mt-table-row-clickable item-offer-name" (click)="toogleOfferableItem(offerableItem)">{{offerableItem.name}}</td>
        </tr>
      </tbody>
    </table>
    <app-pagination
      [loading]="loading"
      [pagination]="pagination"
      (onNextPage)="nextPage()"
      (onPreviousPage)="previousPage()"></app-pagination>
  </div>

  <div class="mt-cmd-panel-container">
    <button 
      class="mt-cmd-panel-first button is-primary"
      (click)="navigateBack()">
      <i class="fa fa-backward" aria-hidden="true"></i>Back
    </button>
    <button
      class="mt-cmd-panel-last button is-primary"
      id="save-offer"
      type="submit"
      [disabled]="isSaveEnabled()"
      (click)="save()">
      <i class="fas fa-save" aria-hidden="true"></i>Save
    </button>
  </div>

</div>
 

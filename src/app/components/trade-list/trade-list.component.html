<app-page-title [template]="'trade-list'"></app-page-title>
<app-message [message]="message"></app-message>
<app-loading [loading]="loading" [containerHeight]="15" [imageHeight]="5"></app-loading>

<div *ngIf="!loading && !pagination.totalEntries" class="not-found-content">
  No trades available at this time <i class="fa fa-frown-o" aria-hidden="true"></i>
</div>

<div *ngIf="!loading && pagination.totalEntries">
  <table class="table mt-table-hoverable is-striped is-fullwidth">
    <tr *ngFor="let t of trades" (keyup.enter)="navigateToTrade(t)" (click)="navigateToTrade(t)" tabindex="2">
      <td class="mt-table-row-clickable">
        <i *ngIf="isOwner(t)" class="owner-icon fas fa-user"></i>
				<i *ngIf="isMember(t)" class="member-icon fas fa-address-card"></i>
				<i *ngIf="!isMember(t) && !isOwner(t)" class="not-member-icon fas fa-address-card"></i>
        {{t.name}}
				<div class="trade-info">
					<div class="trade-info-status is-size-7 has-text-grey"><b>Status:</b> {{t.statusText}}</div>
					<div *ngIf="authenticatedUser" class="is-size-7 has-text-grey"><b>Organizer:</b> {{t.organizerName}} <i *ngIf="!t.organizerName" class="loading-organizer fa fa-spinner fa-pulse fa-3x fa-fw"></i></div>
				</div>
			</td>
    </tr>
  </table>
  <app-pagination
    [loading]="loading"
    [pagination]="pagination"
    (onNextPage)="nextPage()"
    (onPreviousPage)="previousPage()"></app-pagination>
</div>

<div *ngIf="!loading" class="mt-cmd-panel-container">
  <button 
    class="mt-cmd-panel-first button is-primary"
    (click)="createTrade()"
    (keyup.enter)="createTrade()"
    tabindex="3">
    <i class="fa fa-plus" aria-hidden="true"></i>Create
  </button>
</div>
